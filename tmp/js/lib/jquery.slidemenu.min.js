!function(a){function b(){h=q.OPEN,a(g.menu+", "+g.main_contents).addClass("show"),a(g.menu_contents).show(),a("html, body").css("overflow-x","hidden"),a("html").bind("touchmove.scrollContents",function(){event.preventDefault()}),event.preventDefault()}function c(){h=q.IN_PROGRESS,a(g.menu+", "+g.main_contents).removeClass("show"),a("html").unbind("touchmove.scrollContents"),event.preventDefault()}function d(){switch(h){case q.IN_PROGRESS:h=q.CLOSE;break;case q.OPEN:c();break;case q.CLOSE:}}function e(){switch(h){case q.IN_PROGRESS:h=q.CLOSE;break;case q.OPEN:break;case q.CLOSE:b()}}function f(){switch(h){case q.IN_PROGRESS:case q.CLOSE:break;case q.OPEN:c()}}var g,h,i,j,k,l,m,n,o,p,q={CLOSE:0,OPEN:1,IN_PROGRESS:2};a.fn.slideMenu=function(b){g=a.extend({},a.fn.slideMenu.defaults,b),h=q.CLOSE;var c=this.selector;i=0,a(document).ready(function(){var b;a(c).bind("touchstart.menu_button",function(){d()}),a(c).bind("touchend.menu_button",function(){e()}),a(g.main_contents).bind("touchstart.main_contents",function(){f()}),a(g.menu_contents).bind("touchstart.scrollMenu",function(){b=a(g.menu_list).height(),j=event.touches[0].screenY,o=(new Date).getTime(),m=event.changedTouches[0].clientY}),a(g.menu_contents).bind("touchmove.scrollMenu",function(){k=event.changedTouches[0].screenY,l=i+k-j,n=event.changedTouches[0].clientY-m,a(this).css({"-webkit-transition":"none","-webkit-transform":"translate3d(0px,"+l+"px,0px)"})}),a(g.menu_contents).bind("touchend.scrollMenu",function(){p=(new Date).getTime()-o,i+=k-j,200>p&&n>0?(l+=Math.abs(500*(n/p)),a(g.menu_contents).css({"-webkit-transition":"-webkit-transform .7s ease-out","-webkit-transform":"translate3d(0px,"+l+"px,0px)"}),i=l):200>p&&0>n&&(l-=Math.abs(500*(n/p)),a(g.menu_contents).css({"-webkit-transition":"-webkit-transform .7s ease-out","-webkit-transform":"translate3d(0px,"+l+"px,0px)"}),i=l),l>0?(a(g.menu_contents).css({"-webkit-transition":"-webkit-transform .5s ease-out","-webkit-transform":"translate3d(0px,0px,0px)"}),i=0):screen.height-b>l+g.bottom_margin&&(a(g.menu_contents).css({"-webkit-transition":"-webkit-transform .5s ease-out","-webkit-transform":"translate3d(0px,"+(screen.height-b-g.bottom_margin)+"px,0px)"}),i=screen.height-b-g.bottom_margin)})})},a.fn.slideMenu.defaults={main_contents:"#main_contents",menu:"#slidemenu",menu_contents:"#slidemenu_contents",menu_list:"#slidemenu_list",speed:200,width:240,bottom_margin:80}}(jQuery);